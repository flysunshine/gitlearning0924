<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>task01</title>
	<style>
		form{
			margin: 100px;
		}
		label {
  			display: inline-block;
  			width: 50px;
  			text-align: right;
		}
		p{
			margin: 3px 0 0 50px;
			padding-left: 0.5em;
			font-size: 12px;
			color: #ccc;
		}
		input{
			font-size: 1em;
			width: 300px;
			border: 1px solid #ccc;
			border-radius: 2px;
		}
		button{
			color: #fff;
			background-color: #317ef3;
			border: 1px solid #317ef3;
			border-radius: 3px;
			outline: none;
		}
	</style>
</head>
<body>
	<form>
		<label for="username">名称</label>
		<input type="text" id="username">
		<button>验证</button>
		<p>必填，长度为4~16个字符</p>
	</form>
	<script>
		var input_name = document.getElementById("username");
		var btn = document.getElementsByTagName("button")[0];
		var info = document.getElementsByTagName("p")[0];
		btn.onclick = function(){
			if(input_name.value ==""){
				input_name.style.border = "1px solid red";
				info.innerHTML = "姓名不能为空";
				info.style.color = "red";
			}
			else if(getlength(input_name.value)>=4 && getlength(input_name.value)<=16){
				input_name.style.border = "1px solid green";
				info.innerHTML = "名称格式正确";
				info.style.color = "green";
			}
			else{
				input_name.style.border = "1px solid red";
				info.innerHTML = "名称格式不正确，输入长度为4~16个字符";
				info.style.color = "red";
			}
			return false;
		}
		function getlength(str){
			var length_count = 0;
			for(var i=0;i<str.length;i++){
				var code_num = str.charCodeAt(i);
				if(code_num>=0 && code_num<=128){
					length_count +=1;
				}
				else{
					length_count +=2;
				}
			}
			return length_count;
		}
	</script>
</body>
</html>